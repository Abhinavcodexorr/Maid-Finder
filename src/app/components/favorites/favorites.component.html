<div class="favorites-page">
  <!-- Header -->
  <div class="favorites-header bg-light py-4">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h1 class="display-5 fw-bold mb-3">
            <i class="fa fa-heart text-danger me-2"></i>My Favorites
          </h1>
          <p class="lead text-muted">Your saved maid profiles</p>
        </div>
      </div>
    </div>
  </div>

  <div class="container py-4">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3 text-muted">Loading your favorites...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && favoriteMaids.length === 0" class="text-center py-5">
      <i class="fa fa-heart-o fa-4x text-muted mb-4"></i>
      <h3>No favorites yet</h3>
      <p class="text-muted mb-4">Start exploring maids and add them to your favorites!</p>
      <a routerLink="/search" class="btn btn-primary btn-lg">
        <i class="fa fa-search me-2"></i>Browse Maids
      </a>
    </div>

    <!-- Clear All Button -->
    <div *ngIf="!isLoading && favoriteMaids.length > 0" class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h4 class="mb-1">Favorite Maids</h4>
        <p class="text-muted mb-0">{{ favoriteMaids.length }} maid{{ favoriteMaids.length !== 1 ? 's' : '' }} saved</p>
      </div>
      <button 
        type="button" 
        class="btn btn-outline-danger"
        (click)="clearAllFavorites()">
        <i class="fa fa-trash me-2"></i>Clear All
      </button>
    </div>

    <!-- Favorites Grid -->
    <div *ngIf="!isLoading && favoriteMaids.length > 0" class="row">
      <div class="col-lg-4 col-md-6 mb-4" *ngFor="let maid of favoriteMaids">
        <div class="card h-100 shadow-sm fade-in">
          <div class="card-img-top position-relative">
            <img [src]="maid.profileImage || 'assets/images/default-maid.jpg'" 
                 [alt]="maid.firstName + ' ' + maid.lastName" 
                 class="card-img-top" 
                 style="height: 250px; object-fit: cover;"
                 loading="lazy">
            <div class="position-absolute top-0 end-0 m-2">
              <div class="d-flex flex-column gap-1">
                <span class="badge bg-success" *ngIf="maid.isVerified">
                  <i class="fa fa-check-circle me-1"></i>Verified
                </span>
                <button 
                  type="button" 
                  class="btn btn-sm btn-danger rounded-circle p-1"
                  (click)="removeFromFavorites(maid.id)"
                  title="Remove from favorites">
                  <i class="fa fa-heart"></i>
                </button>
              </div>
            </div>
            <div class="position-absolute bottom-0 start-0 m-2">
              <span class="badge bg-primary">{{ maid.availability | titlecase }}</span>
            </div>
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ maid.firstName }} {{ maid.lastName }}</h5>
            <p class="text-muted mb-2">{{ maid.nationality }} â€¢ {{ maid.experience }} years experience</p>
            <div class="mb-2">
              <span class="badge bg-light text-dark me-1 mb-1" *ngFor="let skill of maid.skills.slice(0, 3)">
                {{ skill }}
              </span>
            </div>
            <div class="d-flex align-items-center mb-3">
              <div class="rating me-2">
                <i class="fa fa-star text-warning" *ngFor="let star of [1,2,3,4,5]"></i>
              </div>
              <span class="text-muted">({{ maid.totalReviews }} reviews)</span>
            </div>
            <div class="mt-auto">
              <div class="d-flex justify-content-between align-items-center">
                <span class="h5 text-primary mb-0">AED {{ maid.hourlyRate }}/hour</span>
                <a [routerLink]="['/maid', maid.id]" class="btn btn-primary btn-sm">View Profile</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

