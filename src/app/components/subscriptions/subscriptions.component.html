<div class="subscriptions-page">
  <!-- Header Section -->
  <div class="subscriptions-header bg-primary text-white py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h1 class="display-4 fw-bold mb-3">Choose Your Plan</h1>
          <p class="lead mb-4">Unlock access to contact maid profiles and find your perfect domestic helper</p>
        </div>
      </div>
    </div>
  </div>

  <div class="container py-5">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3 text-muted">Loading subscription plans...</p>
    </div>

    <!-- Subscription Plans -->
    <div *ngIf="!isLoading" class="row justify-content-center">
      <div class="col-lg-4 col-md-6 mb-4" *ngFor="let subscription of subscriptions">
        <div class="card h-100 shadow-lg" [class.border-primary]="subscription.isPopular">
          <!-- Popular Badge -->
          <div *ngIf="subscription.isPopular" class="position-absolute top-0 start-50 translate-middle">
            <span class="badge bg-primary fs-6 px-3 py-2">Most Popular</span>
          </div>
          
          <div class="card-body text-center p-4">
            <h3 class="card-title fw-bold mb-3">{{ subscription.name }}</h3>
            <div class="mb-4">
              <span class="display-4 fw-bold text-primary">AED {{ subscription.price }}</span>
              <span class="text-muted">/{{ subscription.duration }} days</span>
            </div>
            <p class="text-muted mb-4">{{ subscription.description }}</p>
            
            <!-- Features List -->
            <ul class="list-unstyled mb-4">
              <li class="mb-2" *ngFor="let feature of subscription.features">
                <i class="fa fa-check text-success me-2"></i>
                {{ feature }}
              </li>
            </ul>
            
            <!-- Purchase Button -->
            <button 
              class="btn w-100 mb-3"
              [class.btn-primary]="subscription.isPopular"
              [class.btn-outline-primary]="!subscription.isPopular"
              (click)="purchaseSubscription(subscription.id)">
              <i class="fa fa-credit-card me-2"></i>
              Choose Plan
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Comparison -->
    <div class="row mt-5">
      <div class="col-lg-8 mx-auto">
        <h2 class="text-center mb-4">What's Included</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="text-center">
              <i class="fa fa-phone fa-3x text-primary mb-3"></i>
              <h5>Direct Contact</h5>
              <p class="text-muted">Get direct phone numbers and contact information of verified maids.</p>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="text-center">
              <i class="fa fa-shield-alt fa-3x text-primary mb-3"></i>
              <h5>Verified Profiles</h5>
              <p class="text-muted">Access to background-checked and verified domestic helpers.</p>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="text-center">
              <i class="fa fa-star fa-3x text-primary mb-3"></i>
              <h5>Reviews & Ratings</h5>
              <p class="text-muted">Read genuine reviews and ratings from other families.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="row mt-5">
      <div class="col-lg-8 mx-auto">
        <h2 class="text-center mb-4">Frequently Asked Questions</h2>
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq1">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                How does the subscription work?
              </button>
            </h2>
            <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Once you purchase a subscription, you'll have access to contact maid profiles for the duration of your plan. You can view phone numbers, send messages, and book services directly.
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq2">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                Can I cancel my subscription?
              </button>
            </h2>
            <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Yes, you can cancel your subscription at any time. However, you'll continue to have access until the end of your current billing period.
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq3">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                Are all maids verified?
              </button>
            </h2>
            <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Yes, all maids on our platform undergo thorough background checks and verification processes to ensure your safety and peace of mind.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
